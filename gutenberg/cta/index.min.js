!function(wp){var registerBlockType=wp.blocks.registerBlockType,el=wp.element.createElement,__=wp.i18n.__;const{RadioControl:RadioControl,PanelBody:PanelBody,Button:Button}=wp.components,{useBlockProps:useBlockProps,RichText:RichText,InspectorControls:InspectorControls,InnerBlocks:InnerBlocks,MediaUpload:MediaUpload}=wp.blockEditor,allowedBlocks=["core/paragraph","core/button"];registerBlockType("wpboiler-core/cta",{apiVersion:2,title:__("Call to Action","cta"),description:__("Displays text and media to guide users to other areas of the site and grab their attention","cta"),category:"design",icon:"megaphone",supports:{html:!1},attributes:{category:{type:"string",source:"text",selector:"h3.cta__heading--category",default:""},heading:{type:"string",source:"text",selector:"h2.cta__heading--main",default:""},subheading:{type:"string",source:"text",selector:"h3.cta__heading--sub",default:""},marginselect:{type:"string",default:"margins__none"},orientationselect:{type:"string",default:"cta__text--left"},mediaID:{type:"number"},mediaURL:{type:"string",source:"attribute",selector:"img.cta__background",attribute:"src"},mediaAlt:{type:"string",source:"attribute",selector:"img.cta__background",attribute:"alt"},mediaWidth:{type:"number",source:"attribute",selector:"img.cta__background",attribute:"width"},mediaHeight:{type:"number",source:"attribute",selector:"img.cta__background",attribute:"height"}},edit:function(props){const{attributes:attributes,setAttributes:setAttributes}=props,{category:category,heading:heading,subheading:subheading,marginselect:marginselect,orientationselect:orientationselect,mediaID:mediaID,mediaURL:mediaURL,mediaHeight:mediaHeight,mediaWidth:mediaWidth,mediaAlt:mediaAlt}=attributes,onChangeMarginSelect=value=>setAttributes({marginselect:value}),onChangeOrientationSelect=value=>setAttributes({orientationselect:value}),onSelectImage=media=>{setAttributes({mediaID:media.id,mediaURL:media.sizes.cta?media.sizes.cta.url:media.url,mediaAlt:media.alt,mediaWidth:media.sizes.cta?media.sizes.cta.width:media.width,mediaHeight:media.sizes.cta?media.sizes.cta.height:media.height})};return el("div",useBlockProps(attributes),el(InspectorControls,null,el(PanelBody,{title:"Margins"},el(RadioControl,{selected:marginselect,options:[{label:"No Margins",value:"margins__none"},{label:"Top & Bottom Margins",value:"margins__topBottom"},{label:"Top Margin Only",value:"margins__top"},{label:"Bottom Margin Only",value:"margins__bottom"}],onChange:onChangeMarginSelect})),el(PanelBody,{title:"Text Orientation"},el(RadioControl,{selected:orientationselect,options:[{label:"Text Left",value:"cta__text--left"},{label:"Text Right",value:"cta__text--right"},{label:"Text Center",value:"cta__text--center"}],onChange:onChangeOrientationSelect})),el(PanelBody,{title:"Background Image"},el(MediaUpload,{onSelect:onSelectImage,allowedTypes:"image",value:mediaID,render:obj=>el(Button,{className:"components-button is-primary",onClick:obj.open},__(mediaID?"Replace Image":"Upload Image","cta"))}),mediaID?el(Button,{className:"components-button is-tertiary",style:{marginLeft:"5px"},onClick:()=>setAttributes({mediaID:"",mediaURL:""})},"Remove Image"):"")),el("div",{className:"cta__container"},el("div",{className:"cta__column"},el(RichText,{tagName:"h3",placeholder:"Enter a category here...",className:"cta__heading cta__heading--category",value:category||"",onChange:value=>setAttributes({category:value})}),el(RichText,{tagName:"h2",placeholder:"Enter a heading here...",className:"cta__heading cta__heading--main",value:heading||"",onChange:value=>setAttributes({heading:value})}),el(RichText,{tagName:"h3",placeholder:"Enter a subtitle here...",className:"cta__heading cta__heading--sub",value:subheading||"",onChange:value=>setAttributes({subheading:value})}),el(InnerBlocks,{allowedBlocks:allowedBlocks}))),mediaURL?el("div",{className:"cta__container--media"},el("img",{className:`cta__background wp-image-${mediaID}`,src:mediaURL,loading:"lazy",width:mediaWidth,height:mediaHeight,alt:mediaAlt})):"")},save:function(props){const{attributes:attributes}=props,{category:category,heading:heading,subheading:subheading,mediaID:mediaID,mediaURL:mediaURL,mediaAlt:mediaAlt,mediaHeight:mediaHeight,mediaWidth:mediaWidth,orientationselect:orientationselect,marginselect:marginselect}=attributes;return el("section",{className:`cta ${orientationselect} ${marginselect}`},el("div",{className:"cta__container"},el("div",{className:"cta__column"},el(RichText.Content,{tagName:"h3",className:"cta__heading cta__heading--category",value:category}),el(RichText.Content,{tagName:"h2",className:"cta__heading cta__heading--main",value:heading}),el(RichText.Content,{tagName:"h3",className:"cta__heading cta__heading--sub",value:subheading}),el(InnerBlocks.Content,{}))),mediaURL?el("div",{className:"cta__container--media"},el("img",{className:`cta__background wp-image-${mediaID}`,src:mediaURL,loading:"lazy",width:mediaWidth,height:mediaHeight,alt:mediaAlt})):"")}})}(window.wp);